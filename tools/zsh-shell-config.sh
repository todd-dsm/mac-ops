#!/usr/bin/env zsh
#  PURPOSE: Configure some ZSH preliminary janitorial services.
# -----------------------------------------------------------------------------
#  PREREQS: a)
#           b)
#           c)
# -----------------------------------------------------------------------------
#  EXECUTE:
# -----------------------------------------------------------------------------
#     TODO: 1)
#           2)
#           3)
# -----------------------------------------------------------------------------
#   AUTHOR: Todd E Thomas
# -----------------------------------------------------------------------------
#  CREATED: 2021/10/00
# -----------------------------------------------------------------------------
#set -x


###----------------------------------------------------------------------------
### VARIABLES
###----------------------------------------------------------------------------
source my-vars.env > /dev/null 2>&1

###----------------------------------------------------------------------------
### FUNCTIONS
###----------------------------------------------------------------------------
function pMsg() {
    theMessage="$1"
    printf '%s\n' "$theMessage"
}


###----------------------------------------------------------------------------
### MAIN PROGRAM
###----------------------------------------------------------------------------
### Installing and Configuring Shells
###----------------------------------------------------------------------------
autoload -Uz compaudit
compaudit | xargs chmod g-w


###---
### Rebuilding 'zcompdump' wont hurt
###---
if [[ -f ~/.zcompdump ]]; then
    rm -f ~/.zcompdump
    compinit
fi


###---
### Configuring the ZSH Shell
###---
printf '\n%s\n' "Configuring ${SHELL}..."
if [[ ! -f "$myShellDir" ]]; then
    mkdir -p "$myShellDir"
    touch "$myZSHExt"
fi


###---
### Create the beginning of our Environment file:
### Source:      ~/.config/shell/environment.zsh
### Destination: ~/.oh-my-zsh/custom/environment.zsh
###---
cat << EOF >> "$myZSHExt"
###############################################################################
###                                   ZSH                                   ###
###############################################################################

EOF

###---
### fin~
###---
exit 0
